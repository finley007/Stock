两种盈利思路
预测：
将一组因子通过机器学习，将因子的计算结果尽可能接近未来某一个时间的实际价格，残差最小，类似于预测。
这样如果准确性足够，在因子计算结果大于当前实际价格即可买入

概率分析：
当因子计算结果满足某个信号，计算所有样本空间下该信号出现未来实际价格的条件概率分布，计算期望和方差
以及概率。多个因子信号则计算联合概率分布。找到能使未来实际价格上涨概率最大的信号和参数。通过该信号
实施交易


基于以上两种盈利思路，对于因子设计：
1. 因子值是连续型变量，计算函数：caculate，因子的逻辑应该尽可能放在caculate里而非get_action_mapping
2. 因子值到信号量有个映射函数，get_action_mapping

思路
这里主要应用概率分析：
1. 针对因子+版本+参数对整个股票空间进行因子值分布分析
2. 针对因子+版本+参数+signal阈值对整个股票空间进行因子与其后10天的条件概率分布分析，分布从三方面描述：分布参数，分位数，数据
3. 股票空间需要过滤：按市场，按板块，按具体规则。过滤仅限于选股，在计算概率的时候不应该过滤
4. 快速根据值找到股票和对应的日期
5. 多因子联合概率计算

实现：
1. 沿用factor_case表，增加版本字段，增加threshold存储门限值信息 - ok
2. 增加factor_analysis表和factor_ret_distribution表 - ok
3. 增加orm框架 - ok
4. 完成因子扫描逻辑 - ok

问题：
1. 基于新的因子设计，突破的概念怎么在映射函数里表示？
    至少需要两天的记录，所以要修改get_action_mapping参数
